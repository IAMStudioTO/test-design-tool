<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      body { font: 12px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 16px; }
      button { width: 100%; padding: 10px 12px; border: 0; border-radius: 8px; cursor: pointer; }
      pre { background: #f6f6f6; padding: 10px; border-radius: 8px; overflow: auto; }
      .row { margin-top: 12px; }
    </style>
  </head>
  <body>
    <h3 style="margin: 0 0 12px 0;">Test Design Tool</h3>

    <button id="create">Create project</button>

    <div class="row">
      <strong>Response</strong>
      <pre id="out">-</pre>
    </div>

    <script>
      const out = document.getElementById("out");
      document.getElementById("create").onclick = () => {
        parent.postMessage({ pluginMessage: { type: "CREATE_PROJECT" } }, "*");
      };

      onmessage = (event) => {
        const msg = event.data.pluginMessage;
        if (!msg) return;
        if (msg.type === "PROJECT_CREATED") {
          out.textContent = JSON.stringify(msg.data, null, 2);
        }
        if (msg.type === "ERROR") {
          out.textContent = "ERROR: " + msg.error;
        }
      };
    </script>
  </body>
</html>
